{"dependencies":[{"name":"./index.css","dynamic":true},{"name":"./index.js","dynamic":true},{"name":"./mock.js","dynamic":true}],"generated":{"html":"<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <meta http-equiv=\"X-UA-Compatible\" content=\"ie=edge\">\n    <title>弹窗</title>\n    <!--ui 所需要的资源-->\n    <link rel=\"stylesheet\" href=\"http://ui.phpcall.org/static/css/bootstrap.min14ed.css\">\n    <link rel=\"stylesheet\" href=\"http://ui.phpcall.org/static/css/font-awesome.min93e3.css?v=4.4.0\">\n    <link rel=\"stylesheet\" href=\"http://ui.phpcall.org/static/css/animate.min.css\">\n\n    <script src=\"http://ui.phpcall.org/static/js/jquery.min.js?v=2.1.4\"></script>\n    <script src=\"http://ui.phpcall.org/static/js/plugins/layer/layer.min.js\"></script>\n    <script src=\"http://ui.phpcall.org/static/js/bootstrap.min.js?v=3.3.6\"></script>\n    <!--end ui 所需要的资源-->\n    \n    <link rel=\"stylesheet\" href=\"/popup.6b15986f.css\">\n    <script src=\"/popup.bda9c846.js\"></script>\n    <script src=\"/mock.5cc56cfd.js\"></script>\n</head>\n<body>\n\n    <button class=\"btn btn-success action\">打开</button>\n\n\n<!--选择人员弹窗 -->\n<div class=\"container-fluid  call-selector popup-select-wrap\" style=\"display: none\">\n    <div class=\"row\">\n        <div class=\"col-sm-6\">\n            <div class=\" origin-box\">\n                <div class=\"\">\n                    <h5 class=\"stitle\">未选择</h5>\n                </div>\n                <div class=\"scroll-view\">\n                    <ul class=\"origin\"></ul>\n                </div>\n            </div>\n        </div>\n        <div class=\"col-sm-6\">\n            <div class=\" selected-box\">\n                <div class=\"\">\n                    <h5 class=\"stitle\">已选择</h5>\n                </div>\n                <div class=\" selected scroll-view\">\n                    <ul></ul>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>\n<!--选择 -->\n<script>\n//自定义接口过滤\nfunction task_parseData(){\n\n}\n\n$('.action').taskPopup({\n    title:'选择人员',\n    init:function(cb){\n        /**\n         * 此方法是打开弹窗设置初始化数据\n         * 注意：\n         * 需要构建match字段，改字段用于区分是否勾选\n         **/\n\n         cb([{\n             id:5,\n             name:'我是5号佳丽',\n             type:'department',\n             match:'department_5',\n         },\n         {\n             id:10,\n             name:'我是10号佳丽',\n             type:'member',\n             match:'department_3_5',\n         }\n        ])\n    },\n    load:function(param,cb){\n        /**\n         * 此方法是打开弹窗或者点击请求时的处理逻辑\n         * 此处约定勾选后会带回选中项的数据回来，所以可以通过对请求回来的数据处理，提交添加或设置需要的字段\n         * param.first 表示第一次打开，这里处理第一次的数据操作php渲染或者ajax请求都可以\n         **/\n        if(!param) return false;\n        var baseUrl = '?ct=ajax&ac=get_org_data';\n        if(param.first){\n            $.ajax({\n                url: baseUrl,\n                type: 'get',\n                dataType:\"JSON\"\n            }).done(function (data) {\n                if(data.status != 0){\n                    layer.alert(data.message);\n                    return false;\n                }\n                console.log(data);\n                cb(data.data);\n                // task_parseData(data,function(rs){\n                //     cb(rs);\n                // })\n            }).fail(function (e) {\n                layer.alert('获取数据出错');\n            })\n        }else if(!isNaN(param.id)){\n            var url = baseUrl + '&id=' + param.id +'&type=';\n            switch(param.type){\n                case 'sub_org':\n                    url += 'organization';\n                    break;\n                case 'department':\n                    url += 'department';\n                break;\n                case 'station':\n                    url += 'station';\n                    break;\n            }\n            if(!url) return false;\n            $.ajax({\n                url: url,\n                type: 'get',\n                dataType:\"JSON\"\n            }).done(function (data) {\n                console.log(data);\n                \n                if(data.status != 0){\n                    layer.alert(data.message);\n                    return false;\n                }\n\n                cb(data.data);\n\n                // task_parseData(data,function(rs){\n                //     cb(rs);\n                // })\n            }).fail(function (e) {\n                layer.alert('获取数据出错');\n            })\n        }\n        \n    },\n    callback:function(popup,rs){\n        console.log(rs);\n        return false;\n        var html = '';\n            valArr = [];\n        $.each(rs,function(i,item){\n            switch(item.type){\n                case 'top':\n                case 'sub_org':\n                    html += '<span class=\"label label-info\">机构：' + item.name +'</span>';\n                    valArr.push({\n                        id:item.id,\n                        name:item.name,\n                        type:'sub_org',\n                    })\n                    break;\n                case 'station':\n                    html += '<span class=\"label label-info\">岗位：' + item.name +'</span>';\n                    valArr.push({\n                        id:item.id,\n                        name:item.name,\n                        type:item.type,\n                    })\n                    break;\n                case 'department':\n                    html += '<span class=\"label label-info\">部门：' + item.name +'</span>';\n                    valArr.push({\n                        id:item.id,\n                        name:item.name,\n                        type:item.type,\n                    });\n                    break;\n                case 'member':\n                    html += '<span class=\"label label-info\">人员：' + item.name +'</span>';\n                    valArr.push({\n                        id:item.id,\n                        name:item.name,\n                        type:item.type,\n                        sn:item.sn\n                    });\n                    break;\n            }\n        });\n        $('.member-info').val(JSON.stringify(valArr));\n        $('.member-info-text').html(html);\n    }\n});\n</script>\n</body>\n</html>"},"hash":"d59f4552d88963217b73e3e326e512bb","cacheData":{}}