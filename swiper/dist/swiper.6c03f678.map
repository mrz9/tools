{"version":3,"sources":["index.js"],"names":["Swiper","swiper","document","querySelector","wrap","timeHandle","time","index","width","length","update","window","addEventListener","style","transitionDuration","moveStart","moveMove","mouseEnd","self","pos","sx","sy","x","y","last","e","clearTimeout","pageX","pageY","mx","transform","Math","abs","ex","te","createEvent","initEvent","dispatchEvent","console","log","move","step","undefined","isNaN","setTimeout","px","items","querySelectorAll","getBoundingClientRect","forEach","item","store","Object","create","ic","touch","DocumentTouch","getTranslate","el","curStyle","getComputedStyle","curTransform","webkitTransform","split","parseInt","translate","ele","z","support","transforms3d","touchStart","which","state","startX","type","targetTouches","startY","target","startTime","timeStamp","touchEnd","touchMove","diffX","diffY","currentX","currentY","currStore","autoPlayID","direction","round","touchRatio","container","animatingX","translateX","animatingY","translateY","fastClick","fastClickTime","clickCallback","limitDisX","limitDisY","autoPlay","recover","moveTo","transitionDurationEndFn","animating","iceEndCallBack","id","childLength","autoplayDelay","zswiper"],"mappings":"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","file":"swiper.6c03f678.map","sourcesContent":["class Swiper{\n    constructor(){\n        this.swiper = document.querySelector('.zswiper');\n        this.wrap = this.swiper.querySelector('.zswiper-wrap');\n        \n        this.timeHandle;\n\n        this.time = 3;\n\n        this.index = 0;\n\n        this.width;\n        this.length;\n        this.update();\n        window.addEventListener('resize',this.update);\n\n        this.wrap.addEventListener('transitionend',()=>{\n            this.wrap.style.transitionDuration = '0ms';\n        });\n\n        this.swiper.addEventListener('touchstart',moveStart)\n        this.swiper.addEventListener('mousedown',moveStart)\n\n        this.swiper.addEventListener('mousemove',moveMove)\n        this.swiper.addEventListener('touchmove',moveMove)\n\n        this.swiper.addEventListener('mousecancel',mouseEnd)\n        this.swiper.addEventListener('touchcancel',mouseEnd)\n        this.swiper.addEventListener('mouseup',mouseEnd)\n        this.swiper.addEventListener('touchend',mouseEnd)\n\n\n        let self =this;\n        this.pos = {\n            sx:0,\n            sy:0,\n            x:0,\n            y:0,\n            last:0\n        }\n        function moveStart(e){\n            if(self.timeHandle){\n                clearTimeout(self.timeHandle);\n                self.timeHandle = 0;\n            }\n            self.pos.x = self.pos.sx = e.pageX\n            self.pos.y = self.pos.sy  = e.pageY\n            self.pos.last = self.index * self.width\n        }\n\n        function moveMove(e){\n            if(self.pos.last == 0) return;\n            let mx =  self.pos.x - e.pageX;\n            self.pos.last+=mx;\n            self.transform(Math.abs(self.pos.last));\n            self.pos.x = e.pageX;\n            self.pos.y = e.pageY;\n\n            let ex = self.pos.sx - e.pageX\n            if(Math.abs(ex) >= self.width / 3){\n                var te = document.createEvent(\"MouseEvents\");\n                te.initEvent(\"mouseup\", true, true);　　　　　　　　　　　　　　//这里的click可以换成你想触发的行为\n                self.swiper.dispatchEvent(te);\n            }\n            \n        }\n\n        function mouseEnd(e){\n            let mx = self.pos.sx - e.pageX\n            if(Math.abs(mx) >= self.width / 3){\n                console.log('end',mx)\n                if(mx>0){\n                    self.move(self.index + 1);\n                }else{\n                    self.move(self.index - 1);\n                }\n            }else{\n                self.move(self.index);\n            }\n\n            self.pos = {\n                x:0,\n                y:0,\n                sy:0,\n                sx:0,\n                last:0\n            }\n        }\n    }\n    \n    move(step){\n        if(this.timeHandle){\n            clearTimeout(this.timeHandle);\n            this.timeHandle = 0;\n        }\n        if(typeof step !== undefined && !isNaN(step)){\n            step = step > this.length -1 ? 0 : step;\n            this.transform(this.width * step );\n            this.wrap.style.transitionDuration = '300ms';\n            this.index = step;\n            this.timeHandle = setTimeout(()=>this.move(this.index + 1),this.time * 1000);\n        }\n    }\n    transform(px){\n        console.log('transform',px)\n        this.wrap.style.transform = \"translate3d(-\"+ px +\"px, 0px, 0px)\";\n    }\n    update(){\n        console.log('update');\n        if(this.timeHandle){\n            clearTimeout(this.timeHandle);\n            this.timeHandle = 0;\n        }\n\n        this.items = this.wrap.querySelectorAll('.zswiper-item');\n        this.width = this.swiper.getBoundingClientRect().width;\n        this.length = this.items.length;\n        console.log(this.items);\n        this.items.forEach((item)=>{\n            console.log(item);\n            item.style.width = this.width + 'px'\n        });\n\n        this.wrap.style.width = this.width * this.length + 'px';\n\n        this.move(this.index);\n    }\n}\n\nlet store = Object.create(null);\nlet ic = {\n    touch:()=>!!(('ontouchstart' in window) || window.DocumentTouch && document instanceof DocumentTouch),\n\n}\n\nlet getTranslate = function(el){\n\tvar curStyle = window.getComputedStyle(el);\n\tvar curTransform = curStyle.transform || curStyle.webkitTransform;\n\tvar x,y; x = y = 0;\n\tcurTransform = curTransform.split(', ');\n\tif (curTransform.length === 6) {\n\t\tx = parseInt(curTransform[4], 10);\n\t\ty = parseInt(curTransform[5], 10);\n\t}\n       return {'x': x,'y': y};\n};\n\nlet translate = function(ele, x, y, z){\n    if (ic.support.transforms3d){\n        transform(ele, 'translate3d(' + x + 'px, ' + y + 'px, ' + z + 'px)');\n    } else {\n        transform(ele, 'translate(' + x + 'px, ' + y + 'px)');\n    }\n};\n\nlet touchStart = function(e){\n    //mouse事件会提供which值， e.which为3时表示按下鼠标右键，鼠标右键会触发mouseup，但右键不允许移动滑块\n    if (!ic.support.touch && 'which' in e && e.which === 3) return;\n    //获取起始坐标。TouchEvent使用e.targetTouches[0].pageX，MouseEvent使用e.pageX。\n\tstate.startX = e.type === 'touchstart' ? e.targetTouches[0].pageX : e.pageX;\n    state.startY = e.type === 'touchstart' ? e.targetTouches[0].pageY : e.pageY;\n\n    state.target = e.target;\n    //时间戳\n    state.startTime = e.timeStamp;\n    //state的touchStart 、touchMove、touchEnd代表是否进入该函数\n\tstate.touchEnd = state.touchMove = false;\n\tstate.touchStart = true;\n    //表示滑块移动的距离\n\tstate.diffX = state.diffY = 0;\n}\n\nlet touchMove = function(e){\n    // 1. 如果当前触发touchMove的元素和触发touchStart的元素不一致，不允许滑动。\n    // 2. 执行touchMove时，需保证touchStart已执行，且touchEnd未执行。\n    if(e.target !== state.target || state.touchEnd || !state.touchStart) return;\n    state.touchMove = true;\n\n    //取得当前坐标\n    let currentX = e.type === 'touchmove' ? e.targetTouches[0].pageX : e.pageX;\n    let currentY = e.type === 'touchmove' ? e.targetTouches[0].pageY : e.pageY;\n\n    //如果轮播进行中，将定时器清除\n    if(currStore.autoPlayID !== null){\n        clearTimeout(currStore.autoPlayID);\n        currStore.autoPlayID = null;\n    }\n    //判断移动方向是水平还是垂直\n\tif(currStore.direction === 'x'){\n                //currStore.touchRatio是移动系数\n\t\tstate.diffX = Math.round((currentX - state.startX) * currStore.touchRatio);\n                //移动元素\n\t\ttranslate(currStore.container, state.animatingX + state.diffX + state.currStore.translateX, 0, 0);\n    }else{\n        state.diffY = Math.round((currentY - state.startY) * state.currStore.touchRatio);\n        translate(currStore.container, 0, state.animatingY + state.diffY + state.currStore.translateY, 0);\n    }\n}\n\nlet touchEnd = function(e){\n    state.touchEnd = true;\n    if(!state.touchStart) return;\n\tvar fastClick ;\n\tvar currStore = state.currStore;\n        //如果整个触摸过程时间小于fastClickTime，会认为此次操作是点击。但默认是屏蔽了容器的click事件的，所以提供一个clickCallback参数，会在点击操作时调用。\n\tif(fastClick = (e.timeStamp - state.startTime) < currStore.fastClickTime && !state.touchMove && typeof currStore.clickCallback === 'function'){\n\t\tcurrStore.clickCallback();\n\t}\n\tif(!state.touchMove) return;\n        //如果移动距离没达到切换页的临界值，则让它恢复到最近的一次稳定状态\n\tif(fastClick || (Math.abs(state.diffX) < currStore.limitDisX && Math.abs(state.diffY) < currStore.limitDisY)){\n        //在transitionend事件绑定的函数中判定是否重启轮播，但是如果transform前后两次的值一样时，不会触发transitionend事件，所以在这里判定是否重启轮播\n        if(state.diffX === 0 && state.diffY === 0 && currStore.autoPlay) autoPlay(currStore);\n\t   //恢复到最近的一次稳定状态\n            recover(currStore, currStore.translateX, currStore.translateY, 0);\n\t}else{\n                //位移满足切换\n\t\tif(state.diffX > 0 || state.diffY > 0) {\n                       //切换到上一个滑块\n\t\t\tmoveTo(currStore, currStore.index - 1);\n\t\t}else{\n                        //切换到下一个滑块\n\t\t\tmoveTo(currStore, currStore.index + 1);\n\t\t}\t\n\t}\n}\n\nlet transitionDurationEndFn = function(){\n    //将动画状态设置为false\n    ic.store.animating = false;\n    //执行自定义的iceEndCallBack函数\n    if(typeof ic.store.iceEndCallBack === 'function')  ic.store.iceEndCallBack();\n    //将动画时间归零\n        transitionDuration(container, 0);\n        //清空state\n    if(ic.store.id === state.id) state = Object.create(null);\n    //检测是否开启轮播\n    if(ic.store.autoPlay) autoPlay(ic.store);\n};\n\nlet autoPlay = function(store){\n    store.autoPlayID = setTimeout(function(){\n        //当前滑块的索引\n        var index = store.index;\n        ++index;\n        //到最后一个了，重置为0\n        if(index === store.childLength){\n        index = 0;\n        }\n        //移动\n        moveTo(store, index);\n     },store.autoplayDelay);\t\t\n};\nlet zswiper = new Swiper();\n"]}