{"version":3,"sources":["main.js"],"names":["state","Object","create","isInit","ZSwiper","opt","self","support","touch","window","DocumentTouch","document","transforms3d","div","createElement","style","transition","container","querySelector","el","Error","wrap","childLength","children","length","store","index","translateX","translateY","direction","animationDuration","fastClickTime","autoPlayID","autoPlay","autoplayDelay","animating","touchStart","e","which","startX","type","targetTouches","pageX","startY","pageY","startTime","timeStamp","currentTarget","target","currStore","touchEnd","touchMove","diffX","diffY","animatingX","animatingY","currentX","currentY","animationTranslate","getTranslate","x","y","removeTransitionDuration","clearTimeout","Math","round","translate","fastClick","abs","limitDisX","limitDisY","recover","moveTo","transitionDurationEndFn","transitionDuration","initEvent","update","addEventListener","events","transitionEndEvents","i","addEvent","console","log","rect","getBoundingClientRect","width","height","fn","capture","setIndex","z","ele","transform","elStyle","webkitTransform","MsTransform","msTransform","MozTransform","OTransform","time","webkitTransitionDuration","MsTransitionDuration","msTransitionDuration","MozTransitionDuration","OTransitionDuration","curStyle","getComputedStyle","curTransform","split","parseInt","setTimeout"],"mappings":"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","file":"main.a25e72f7.map","sourcesContent":["let state = Object.create(null);\nlet isInit = false;\n\nclass ZSwiper {\n    constructor(opt){\n        if (!(this instanceof ZSwiper)) return new ZSwiper(opt);\n\n        let self = this;\n        this.support = {\n            touch:(()=>!!(('ontouchstart' in window) || window.DocumentTouch && document instanceof DocumentTouch))(),\n            transforms3d : (function () {\n                let div = document.createElement('div').style;\n                return ('webkitPerspective' in div || 'MozPerspective' in div || 'OPerspective' in div || 'MsPerspective' in div || 'perspective' in div);\n            })(),\n            transition : (function () {\n                let div = document.createElement('div').style;\n                return ('webkitTransition' in div || 'MozTransition' in div || 'OTransition' in div || 'MsTransition' in div || 'transition' in div);\n            })()\n        }\n\n        if(!this.support.transition) return;\n\n        this.container = document.querySelector(opt.el);\n        if(!this.container) throw new Error('没有找到容器');\n        this.wrap = this.container.querySelector(\".zswiper-wrap\");\n        if(!this.wrap) throw new Error('没有找到.zswiper-wrap');\n        let childLength = this.wrap.children.length;\n        this.store = {\t\n            childLength: childLength,\n            index: 0,\n            translateX: 0,\n            translateY: 0,\n            direction: opt.direction === 'y' ? 'y' : 'x',\n            animationDuration: 300,\n            fastClickTime:  300,\n            autoPlayID: null,\n            autoPlay:true,\n            autoplayDelay: 3000,\n            animating:false\n        };\n\n        let touchStart = function(e){\n            if (!self.support.touch && 'which' in e && e.which === 3) return;\n            state.startX = e.type === 'touchstart' ? e.targetTouches[0].pageX : e.pageX;\n            state.startY = e.type === 'touchstart' ? e.targetTouches[0].pageY : e.pageY;\n            state.startTime = e.timeStamp;\n            state.currentTarget = e.currentTarget;\n            state.target = e.target;\n            state.currStore = self.store;\n            state.touchEnd = state.touchMove = false;\n            state.touchStart = true;\n            state.diffX = state.diffY = 0;\n            state.animatingX = state.animatingY = 0;\n        };\n\n        let touchMove = function(e){\n            if(e.target !== state.target || state.touchEnd || !state.touchStart) return;\n            state.touchMove = true;\n            var currentX = e.type === 'touchmove' ? e.targetTouches[0].pageX : e.pageX;\n            var currentY = e.type === 'touchmove' ? e.targetTouches[0].pageY : e.pageY;\n            var currStore = state.currStore;\n            if(currStore.animating){\n                var animationTranslate = self.getTranslate(self.wrap);\n                state.animatingX = animationTranslate.x - currStore.translateX;\n                state.animatingY = animationTranslate.y - currStore.translateY;\n                currStore.animating = false;\n                self.removeTransitionDuration(self.wrap);\n            }\n            if(currStore.autoPlayID !== null){\n                clearTimeout(currStore.autoPlayID);\n                currStore.autoPlayID = null;\n            }\n            if(currStore.direction === 'x'){\n                state.diffX = Math.round((currentX - state.startX) );\n                self.translate(self.wrap, state.animatingX + state.diffX + state.currStore.translateX, 0, 0);\n            }else{\n                state.diffY = Math.round((currentY - state.startY));\n                self.translate(self.wrap, 0, state.animatingY + state.diffY + state.currStore.translateY, 0);\n            }\n        }\n\n        let touchEnd = function(e){\n            state.touchEnd = true;\n            if(!state.touchStart) return;\n            var fastClick ;\n            var currStore = state.currStore;\n            fastClick = (e.timeStamp - state.startTime) < currStore.fastClickTime;\n            if(!state.touchMove) return;\n            if(fastClick || (Math.abs(state.diffX) < currStore.limitDisX && Math.abs(state.diffY) < currStore.limitDisY)){\n               if(state.diffX === 0 && state.diffY === 0 && currStore.autoPlay) self.autoPlay(currStore);\n               self.recover(currStore, currStore.translateX, currStore.translateY, 0);\n            }else{\n                if(state.diffX > 0 || state.diffY > 0) {\n                    self.moveTo(currStore, currStore.index - 1);\n                }else{\n                    self.moveTo(currStore, currStore.index + 1);\n                }\t\n            }\n        }\n\n        let transitionDurationEndFn = ()=>{\n            self.store.animating = false;\n            self.transitionDuration(self.wrap, 0);\n            state = Object.create(null);\n            if(self.store.autoPlay) self.autoPlay(self.store)\n        }\n    \n        let initEvent = ()=>{\n            this.update();\n            window.addEventListener('resize',()=>{this.update()},false);\n            var events = this.support.touch ? ['touchstart', 'touchmove', 'touchend']:['mousedown','mousemove','mouseup'];\n            var transitionEndEvents = ['webkitTransitionEnd', 'transitionend', 'oTransitionEnd', 'MSTransitionEnd', 'msTransitionEnd'];\n            for (var i = 0; i < transitionEndEvents.length; i++) {\n                this.addEvent(this.wrap, transitionEndEvents[i], transitionDurationEndFn, false);\n            } \n           \n            this.addEvent(this.container, events[0], touchStart, false);\n            if(!isInit){\n                this.addEvent(document, events[1], touchMove, false);\n                this.addEvent(document, events[2], touchEnd, false);\n                isInit = true;\n            }\n        }\n\n        initEvent();\n        if(this.store.autoPlay) this.autoPlay(this.store);\n    }\n    update(){\n        console.log('update')\n        let rect = this.container.getBoundingClientRect();\n        this.wrap.style.width = this.store.childLength * rect.width + 'px';\n        for(let i =0;i< this.store.childLength;i++){\n            this.wrap.children[i].style.width = rect.width + 'px'\n        }\n\n        this.store.width =  rect.width\n        this.store.height =  rect.height\n        this.store.limitDisX =   0.3 * rect.width\n        this.store.limitDisY =   0.3 * rect.height\n    }\n    addEvent(target, type, fn, capture = false){\n        target.addEventListener(type, fn, capture);\n    }\n    moveToIndex(index){\n\t\tvar currStore = this.store;\n\t\tif(currStore.index === index) return;\n\t\tif(currStore.autoPlayID){\n        \tclearTimeout(currStore.autoPlayID);\n        \tcurrStore.autoPlayID = null;\n        }\n\t\tthis.moveTo(currStore, index);\n    }\n    getIndex(){\n\t\treturn this.store.index;\n    }\n    moveTo(store, index){\n        let currStore = store;\n        if(index < currStore.childLength && index > -1){\n            this.setIndex(currStore, index);\n            if(currStore.direction === 'x'){\t\n                this.recover(currStore, -index * currStore.width, 0, 0);\n                currStore.translateX = -index * currStore.width;\n            }else{\n                this.recover(currStore, 0 , -index * currStore.height, 0);\n                currStore.translateY = -index * currStore.height;\n            }\n        }else {\n            this.recover(currStore, currStore.translateX , currStore.translateY, 0);\n        }\n    }\n    setIndex(store, index){\n        store.index = index;\n    }\n\n    recover(store, x, y, z){\n        store.animating = true;\n        this.transitionDuration(this.wrap, store.animationDuration);\n        this.translate(this.wrap, x, y, z);\n    }\n    translate(ele, x, y, z){\n        if (this.support.transforms3d){\n            this.transform(ele, 'translate3d(' + x + 'px, ' + y + 'px, ' + z + 'px)');\n        } else {\n            this.transform(ele, 'translate(' + x + 'px, ' + y + 'px)');\n        }\n    }\n\n    transform(ele, transform){\n        let elStyle = ele.style;\n        elStyle.webkitTransform = elStyle.MsTransform = elStyle.msTransform = elStyle.MozTransform = elStyle.OTransform = elStyle.transform = transform;\n    }\n\n    transitionDuration(ele,time){\n        let elStyle = ele.style;\n        elStyle.webkitTransitionDuration = elStyle.MsTransitionDuration = elStyle.msTransitionDuration = elStyle.MozTransitionDuration = elStyle.OTransitionDuration = elStyle.transitionDuration = time + 'ms';\n    }\n\n    removeTransitionDuration(ele){\n        let elStyle = ele.style;\n        elStyle.webkitTransitionDuration = elStyle.MsTransitionDuration = elStyle.msTransitionDuration = elStyle.MozTransitionDuration = elStyle.OTransitionDuration = elStyle.transitionDuration = '';\n    }\n\n    getTranslate(el){\n        let curStyle = window.getComputedStyle(el);\n        let curTransform = curStyle.transform || curStyle.webkitTransform;\n        let x,y; x = y = 0;\n        curTransform = curTransform.split(', ');\n        if (curTransform.length === 6) {\n            x = parseInt(curTransform[4], 10);\n            y = parseInt(curTransform[5], 10);\n        }\n        return {'x': x,'y': y};\n    }\n\n    autoPlay(store){\n        store.autoPlayID = setTimeout(()=>{\n            let index = store.index;\n            ++index;\n            if(index === store.childLength){\n                index = 0;\n            }\n            this.moveTo(store, index);\n        },store.autoplayDelay);\n    };\n}\n\n// window.zswiper = new ZSwiper({el:'.zswiper'});\n// console.log(zswiper);"]}